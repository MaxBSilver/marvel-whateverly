(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(8),o=a.n(n),c=(a(15),a(1)),i=a(2),l=a(4),p=a(3),u=a(5);var d=function(){return s.a.createElement("section",{className:"banner-title"},s.a.createElement("h1",null,"MARVELOUSLY!"))},m=a(6),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value}),""===e.target.value&&a.props.storeRendered(a.props.data.slice(0,10))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.value.split(" ").length>1?a.state.value.toUpperCase().split(" ").map(function(e){return a.rmSpecChars(e)}):[a.rmSpecChars(a.state.value.toUpperCase())],r=a.finder(t);""!==a.state.value&&a.props.storeRendered(r)},a.state={value:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"rmSpecChars",value:function(e){return e.split("").filter(function(e){return!["'"," ","-",",",":","#",".","!","?"].includes(e)}).join("")}},{key:"increaseSearchCapability",value:function(e){var t=[],a=function(e){return e.toUpperCase().split(" ")};return e.directors?(e.directors.forEach(function(e){return t.push.apply(t,Object(m.a)(a(e)))}),e.stars.forEach(function(e){return t.push.apply(t,Object(m.a)(a(e)))}),e.characters.forEach(function(e){return t.push.apply(t,Object(m.a)(a(e)))})):e.publishDate&&(e.writers.forEach(function(e){return t.push.apply(t,Object(m.a)(a(e)))}),e.characters.forEach(function(e){return t.push.apply(t,Object(m.a)(a(e)))}),e.editors&&e.editors.forEach(function(e){return t.push.apply(t,Object(m.a)(a(e)))})),t}},{key:"finder",value:function(e){var t=this;return(this.props.searchThisDataset||this.props.data).filter(function(a){var r=a.title.toUpperCase().split(" ").reduce(function(e,a){return e.push(t.rmSpecChars(a)),e},[]),s=t.increaseSearchCapability(a);return r.concat(s).some(function(t){return e.includes(t)})})}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",className:"search-input",value:this.state.value,onChange:this.handleChange,placeholder:"Search"}),s.a.createElement("input",{type:"submit",className:"search-btn",value:"Search"}))}}]),t}(r.Component),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).handleComics=function(t){t.preventDefault(),"comics"===t.target.id?e.setState({comics:!e.state.comics}):e.setState({movies:!1}),e.state.movies&&e.setState({movies:!1}),e.props.storeRendered(Object.values(e.props.comics)),e.props.setSearchDataset(Object.values(e.props.comics))},e.handleMovies=function(t){t.preventDefault(),"movies"===t.target.id?e.setState({movies:!e.state.movies}):e.setState({comics:!1}),e.state.comics&&e.setState({comics:!1}),e.props.storeRendered(Object.values(e.props.movies)),e.props.setSearchDataset(Object.values(e.props.movies))},e.handleFavorites=function(t){t.preventDefault(),e.state.favorites?e.props.storeRendered(e.props.data.slice(0,10)):e.props.storeRendered(JSON.parse(localStorage.getItem("marvelous"))),e.setState({favorites:!e.state.favorites})},e.resetSearch=function(){e.props.setSearchDataset(e.props.data),e.props.storeRendered(e.props.data),e.setState({comics:!1,movies:!1})},e.sortCards=function(t){var a=e.state.movies?Object.values(e.props.movies):Object.values(e.props.comics);e.props.storeRendered(a.sort(function(e,a){return null!==e[t.target.value]&&null!==a[t.target.value]&&"object"===typeof e[t.target.value]?a[t.target.value][0].localeCompare(e[t.target.value][0]):a[t.target.value]-e[t.target.value]}))},e.state={movies:!1,comics:!1,favorites:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=Object.values(this.props.movies)[0],t=Object.values(this.props.comics)[0],a=["title","link","img","id","favorite","summary"];switch(!0){case this.state.movies:return s.a.createElement("div",{className:"filter-form"},s.a.createElement("button",{className:"filter-btn",onClick:this.resetSearch,type:"button"},"Show All"),s.a.createElement("input",{className:"filter-btn",onClick:this.handleComics,type:"submit",value:"Show Comics",id:"comics"}),s.a.createElement("select",{onChange:this.sortCards,className:"filter-dropdown"},s.a.createElement("option",{value:"",selected:"selected"},"--Sort by--"),Object.keys(e).map(function(e){return!!a.includes(e)||s.a.createElement("option",{value:e},e)})));case this.state.comics:return s.a.createElement("div",{className:"filter-form"},s.a.createElement("button",{className:"filter-btn",onClick:this.resetSearch,type:"button"},"Show All"),s.a.createElement("input",{className:"filter-btn",onClick:this.handleMovies,type:"submit",value:"Show Movies",id:"movies"}),s.a.createElement("select",{onChange:this.sortCards,className:"filter-dropdown"},s.a.createElement("option",{value:"",selected:"selected"},"--Sort by--"),Object.keys(t).map(function(e){return!!a.includes(e)||s.a.createElement("option",{value:e},e)})));default:return s.a.createElement("form",{className:"default-form"},s.a.createElement("input",{className:"filter-btn",onClick:this.handleComics,type:"submit",value:"Comics",id:"comics"}),s.a.createElement("input",{className:"filter-btn",onClick:this.handleMovies,type:"submit",value:"Movies",id:"movies"}),s.a.createElement("input",{className:"filter-btn",onClick:this.handleFavorites,type:"submit",value:this.state.favorites?"Show Random":"Show Favorites",id:"favorites"}))}}}]),t}(r.Component),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).setSearchDataset=function(e){a.setState({searchThisDataset:e})},a.state={value:"",searchThisDataset:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"Header"},s.a.createElement(h,{data:this.props.combined,movies:this.props.movies,comics:this.props.comics,storeRendered:this.props.storeRendered,searchThisDataset:this.state.searchThisDataset}),s.a.createElement(v,Object.assign({data:this.props.combined,storeRendered:this.props.storeRendered,comics:this.props.comics,movies:this.props.movies,setSearchDataset:this.setSearchDataset},this.state)))}}]),t}(r.Component),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).showCardInfo=function(){a.setState({toggleInfo:!a.state.toggleInfo})},a.toggleFavorite=function(){var e=JSON.parse(localStorage.getItem("marvelous"))||[];a.props.card.favorite=!a.props.card.favorite,void 0===e.find(function(e){return e.id===a.props.card.id})?e.push(a.props.card):!1===a.props.card.favorite&&e.splice(e.indexOf(function(e){return e.id===a.props.card.id}),1),localStorage.setItem("marvelous",JSON.stringify(e)),a.setState({favorited:!a.state.favorited})},a.isFavorited=function(){return(JSON.parse(localStorage.getItem("marvelous"))||[]).some(function(e){return e.id===a.props.card.id})},a.stanLeeApproved=function(){var e;return a.props.card.writers&&a.props.card.editors&&(e=!!a.props.card.writers.concat(a.props.card.editors).includes("Stan Lee")),e},a.state={toggleInfo:!1,favorited:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.card.imdbRating?s.a.createElement("article",{className:"popup-container"},s.a.createElement("p",null,"Released: ",this.props.card.releaseYear),s.a.createElement("p",null,"Characters: ",this.props.card.characters.join(" - ")),s.a.createElement("p",null,this.props.card.writer),s.a.createElement("p",null,"Director(s): ",this.props.card.directors?this.props.card.directors.join(" - "):"N/A"),s.a.createElement("p",null,"Based On: ",this.props.card.basedOn),s.a.createElement("p",null,"Stars: ",this.props.card.stars.join(" - ")),s.a.createElement("p",null,"IMDB Rating: ",this.props.card.imdbRating),s.a.createElement("a",{target:"blank",href:this.props.card.link},"read the wiki")):s.a.createElement("article",{className:"popup-container"},s.a.createElement("p",null,"Released: ",this.props.card.publishDate),s.a.createElement("p",null,"Characters: ",this.props.card.characters.join(" - ")),s.a.createElement("p",null,"Writers: ",this.props.card.writers.join(" - ")),s.a.createElement("p",null,"Pencillers: ",this.props.card.pencillers?this.props.card.pencillers.join(" - "):"N/A"),s.a.createElement("p",null,"Letterers: ",this.props.card.letterers?this.props.card.letterers:"N/A"),s.a.createElement("p",null,"Inkers: ",this.props.card.inkers?this.props.card.inkers.join(" - "):"N/A"),s.a.createElement("p",null,"Colorists: ",this.props.card.colorists?this.props.card.colorists.join(" - "):"N/A"),s.a.createElement("p",null,"Editors: ",this.props.card.editors?this.props.card.editors.join(" - "):"N/A"),s.a.createElement("p",null,"Adapted: ",this.props.card.adapted?"Yes":"No"),s.a.createElement("p",null,"About: ",this.props.card.summary),s.a.createElement("a",{target:"blank",href:this.props.card.link},"read the wiki"));return s.a.createElement("article",{className:"card"},s.a.createElement("div",{className:"card-positioning"},s.a.createElement("div",{className:"image-container"},s.a.createElement("img",{src:this.props.card.img,alt:"".concat(this.props.card.title)}),this.state.toggleInfo&&e,this.stanLeeApproved()&&s.a.createElement("img",{src:"https://media.customon.com/unsafe/600x600/img.customon.com/design/600/600/ffffff/40207/25b4041ed0a2418e9a95057a96ecd333.png.jpg",alt:"Stan Lee Foto",className:"stan-lee-approved"})),s.a.createElement("div",{className:"info-container"},s.a.createElement("h3",null,this.props.card.title),s.a.createElement("div",{className:"button-container"},s.a.createElement("button",{type:"button",onClick:this.toggleFavorite,className:this.isFavorited()?"favorited-btn":""},"Favorite"),s.a.createElement("button",{type:"button",onClick:this.showCardInfo},"Show More")))))}}]),t}(r.Component),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return null===this.props.rendered?s.a.createElement("div",null):s.a.createElement("section",{className:"card-container"},this.props.rendered.map(function(e){return s.a.createElement(b,{key:e.id,card:e})}))}}]),t}(r.Component),j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).componentDidMount=function(){window.addEventListener("scroll",e.resizeHeaderOnScroll),fetch("https://fe-apps.herokuapp.com/api/v1/whateverly/1901/raechelo/marvelMovies").then(function(e){return e.json()}).then(function(t){return e.setState({movies:t.marvelMovies})}).catch(function(e){throw new Error(e)}),fetch("https://fe-apps.herokuapp.com/api/v1/whateverly/1901/raechelo/marvelComics").then(function(e){return e.json()}).then(function(t){return e.setState({comics:t.marvelComics})}).then(function(){e.combineData();var t=e.state.combined;e.setState({rendered:t.sort(function(){return.5-Math.random()}).slice(0,10)})}).catch(function(e){throw new Error(e)})},e.combineData=function(){e.setState({combined:Object.values(e.state.movies).concat(Object.values(e.state.comics))})},e.storeRendered=function(t){e.setState({rendered:t})},e.state={movies:[],comics:[],combined:[],rendered:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"resizeHeaderOnScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop;document.getElementById("banner");e>200?console.log("should be small"):console.log("should be normal")}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(d,{id:"banner"}),s.a.createElement(f,Object.assign({},this.state,{storeRendered:this.storeRendered})),s.a.createElement(E,{rendered:this.state.rendered}))}}]),t}(r.Component);o.a.render(s.a.createElement(j,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.02d8a4c9.chunk.js.map